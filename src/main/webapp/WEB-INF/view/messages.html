<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<link href="../../../resources/css/styles.css" rel="stylesheet" 
			media="screen" th:href="@{/resources/css/styles.css}"/>
		<title>Messages</title>
	</head>
	<body>
		<header th:replace="fragments/header :: header" />
		
		<ul>
			<li th:each="msg : ${messages}">
				<span th:utext="|<b>${msg.author.username}</b>: |"></span>
				<span th:text="${msg.text}"></span>
			</li>
		</ul>
		
		
		<!-- <span th:replace="fragments/header :: createMessageForm"/>  th:fragment="createMessageForm"  -->
		<div>
			<form class="createMessageForm" action="#" th:action="@{/messages}"
				th:object="${message}" method="post">
				
				
				<input type="text" th:field="*{text}" placeholder="input your message here" />
				
				<span class="successMsg" th:if="${successMsg != null}" th:text="${successMsg}" />
				
				<p>
					<button type="submit">Post</button>
				</p>
			</form>
		
		</div>
	</body>
</html>