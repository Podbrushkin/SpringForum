<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
		<meta charset="UTF-8">
		<link href="../../../resources/css/styles.css" rel="stylesheet" 
			media="screen" th:href="@{/resources/css/styles.css}"/>
		<title>Create user</title>
	</head>
	<body>
		<header th:replace="fragments/header :: header" />
		<h1>Create new user</h1>
		
		<!-- <span th:text="${user != null} ? ${user} : 'null value!'" /> -->

		
		<form class="loginForm" action="#" th:action="@{/createUser}" th:object="${user}" method="post"
			>
			
			
			<input type="text" th:field="*{username}" placeholder="Username" />
			<!-- <label>Username: </label> -->
			<span class="errorMsg" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Name Error</span>
			<br/>
			
			<input type="password" th:field="*{password}" placeholder="Password"/>
			<!-- <span>Password: </span> -->
			<span class="errorMsg" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</span>
			<br/>
			<ul>
			  <li th:each="role : ${possibleRoles}">
				<input type="checkbox" th:field="*{roles}" th:value="${role}" />
				<label th:for="${#ids.prev('roles')}" 
					   th:text="${role}">*possible_role*</label>
			  </li>
			  
			</ul>
			<span class="errorMsg" th:if="${#fields.hasErrors('roles')}" th:errors="*{roles}">Roles Error</span>
			<span class="successMsg" th:if="${successMsg != null}" th:text="${successMsg}" />
			
			<p>
				<button type="submit" style="background-color: #4040ff;">Create new account</button>
			</p>
		</form>
		
	</body>
</html>